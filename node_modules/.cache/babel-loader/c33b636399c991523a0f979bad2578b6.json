{"ast":null,"code":"import HeadBar from '../components/HeadBar.vue';\nimport BottomBar from '../components/BottomBar.vue';\nimport request from '../utils/request';\nimport { mapMutations } from 'vuex';\nexport default {\n  name: 'App',\n  components: {\n    HeadBar,\n    BottomBar\n  },\n\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      userToken: ''\n    };\n  },\n\n  methods: {\n    // login () {     \n    //   const username = this.username\n    //   const password = this.password\n    //   if(username.length == 0 || password.length == 0) {\n    //     alert('Please enter your account and password!')\n    //     return;\n    //   }\n    //   request.post(\"users/login\",{username:username,password:password}).then(res=>{\n    //     console.log(res);\n    //     if(res.success === true){\n    //       alert(res.msg);\n    //       this.$router.push({path:\"/\"});\n    //     }else{\n    //         alert(res.msg);\n    //       }\n    // })\n    // this.$axios\n    //     .post(\"/user/login\",{\n    //       username: username,\n    //       password: password,\n    //     })\n    //     .then((resp) => {\n    //       console.log(resp);\n    //       let code = resp.data.code;\n    //       alert(code)\n    //     if(code === 200){\n    //       alert(\"successful!\");\n    //       this.$router.push({path:\"/\"});\n    //     }else{\n    //       alert(\"login failure!\");\n    //     }\n    //     });  \n    // },\n    regist() {\n      this.$router.push({\n        path: \"/logon\"\n      });\n    },\n\n    // regist(){\n    //   const username = this.username\n    //   const password = this.password\n    //   if(username.length == 0 || password.length == 0) {\n    //     alert('Please enter your account and password!')\n    //     return;\n    //   }\n    //   request.post(\"user/regist\",{username:username,password:password}).then(res=>{\n    //     console.log(res);\n    //     if(res.success === true){\n    //       alert(res.msg);\n    //       alert(\"please log in\");\n    //     }else{\n    //         alert(res.msg);\n    //       }\n    //   })\n    // }\n    ...mapMutations(['changeLogin']),\n\n    login() {\n      let _this = this;\n\n      if (this.loginForm.username === '' || this.loginForm.password === '') {\n        alert('账号或密码不能为空');\n      } else {\n        // this.axios({\n        //   method: 'post',\n        //   url: '/users/login',\n        //   data: _this.loginForm\n        // })\n        request.post(\"users/login\", _this.loginForm).then(res => {\n          // console.log(res);\n          _this.userToken = 'Bearer ' + res.accessToken; // console.log(_this.userToken)\n          // 将用户token保存到vuex中\n\n          _this.changeLogin({\n            Authorization: _this.userToken\n          });\n\n          alert('Log in successfully');\n\n          _this.$router.push('/');\n        }).catch(error => {\n          alert(error);\n          console.log(error);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA;AACA;AACA;AACA;AAGA;EACAA,WADA;EAEAC;IACAC,OADA;IAEAC;EAFA,CAFA;;EAOAC;IACA;MACAC;QACAC,YADA;QAEAC;MAFA,CADA;MAKAC;IALA;EAOA,CAfA;;EAgBAC;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACA;QAAAC;MAAA;IACA,CAxCA;;IAyCA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,gCA3DA;;IA4DAC;MACA;;MACA;QACAC;MACA,CAFA,MAEA;QACA;QACA;QACA;QACA;QACA;QAEAC;UACA;UACAC,8CAFA,CAGA;UACA;;UACAA;YAAAC;UAAA;;UACAH;;UACAE;QACA,CARA,EAQAE,KARA,CAQAC;UACAL;UACAM;QACA,CAXA;MAYA;IACA;;EApFA;AAhBA","names":["name","components","HeadBar","BottomBar","data","loginForm","username","password","userToken","methods","regist","path","login","alert","request","_this","Authorization","catch","error","console"],"sourceRoot":"src/views","sources":["LoginView.vue"],"sourcesContent":["<template lang=\"\">\n  <div class = \"box\">\n    <HeadBar></HeadBar>\n    <div>\n      <img  src=\"../assets/img/logo1.svg\"  alt=\"cannot  show\"  class=\"logo\">\n    </div>\n    <div class=\"login\" id=\"login\">\n      <h2 class = \"title\">Welcome to log in</h2>\n      <div class=\"input-wrap\">\n        <!-- <label for=\"male\">Account number:</label> -->\n        <input id = \"inputbox1\" type=\"text\" v-model=\"loginForm.username\" placeholder=\"Account number\"/>\n        \n      </div>\n      <div class=\"input-wrap\">\n        <!-- <label for=\"male\">Password：</label> -->\n        <input id = \"inputbox2\" type=\"password\" v-model=\"loginForm.password\" placeholder=\"Password\"/>\n      </div>\n      <div class=\"input-wrap\">\n        <!-- <button v-on:click=\"login\">登录账号</button>&nbsp;&nbsp; -->\n        <button id= \"Login\" @click=\"login\">Log in</button>&nbsp;&nbsp;\n        <button id= \"Register\" @click=\"regist\">Register</button>\n      </div>\n    </div>\n  <div id=\"app\">\n    <BottomBar></BottomBar>\n  </div>\n  </div>\n</template>\n<script>\nimport HeadBar from '../components/HeadBar.vue'\nimport BottomBar from '../components/BottomBar.vue'\nimport request from '../utils/request'\nimport { mapMutations } from 'vuex';\n\n\nexport default {\n    name: 'App',\n  components: {\n    HeadBar,\n    BottomBar,\n  },\n\n  data () {\n    return {\n      loginForm:{\n      username: '',\n      password: ''\n      },\n      userToken:''\n    };\n  },\n  methods: {\n    // login () {     \n\n    //   const username = this.username\n    //   const password = this.password\n    //   if(username.length == 0 || password.length == 0) {\n    //     alert('Please enter your account and password!')\n    //     return;\n    //   }\n\n    //   request.post(\"users/login\",{username:username,password:password}).then(res=>{\n    //     console.log(res);\n    //     if(res.success === true){\n    //       alert(res.msg);\n    //       this.$router.push({path:\"/\"});\n    //     }else{\n    //         alert(res.msg);\n    //       }\n      // })\n\n\n      // this.$axios\n      //     .post(\"/user/login\",{\n      //       username: username,\n      //       password: password,\n      //     })\n      //     .then((resp) => {\n      //       console.log(resp);\n      //       let code = resp.data.code;\n      //       alert(code)\n      //     if(code === 200){\n      //       alert(\"successful!\");\n      //       this.$router.push({path:\"/\"});\n      //     }else{\n      //       alert(\"login failure!\");\n      //     }\n      //     });  \n    // },\n    regist(){\n      this.$router.push({path:\"/logon\"})\n    },\n    // regist(){\n    //   const username = this.username\n    //   const password = this.password\n    //   if(username.length == 0 || password.length == 0) {\n    //     alert('Please enter your account and password!')\n    //     return;\n    //   }\n\n    //   request.post(\"user/regist\",{username:username,password:password}).then(res=>{\n    //     console.log(res);\n    //     if(res.success === true){\n    //       alert(res.msg);\n    //       alert(\"please log in\");\n    //     }else{\n    //         alert(res.msg);\n    //       }\n    //   })\n    // }\n...mapMutations(['changeLogin']),\n    login () {\n      let _this = this;\n      if (this.loginForm.username === '' || this.loginForm.password === '') {\n        alert('账号或密码不能为空');\n      } else {\n        // this.axios({\n        //   method: 'post',\n        //   url: '/users/login',\n        //   data: _this.loginForm\n        // })\n        \n        request.post(\"users/login\",_this.loginForm).then(res => {\n          // console.log(res);\n          _this.userToken = 'Bearer ' + res.accessToken;\n          // console.log(_this.userToken)\n          // 将用户token保存到vuex中\n          _this.changeLogin({ Authorization: _this.userToken });\n          alert('Log in successfully');\n          _this.$router.push('/');\n          }).catch(error => {\n           alert(error);\n           console.log(error);\n        });\n      }\n      }\n  }\n}\n\n</script>\n \n<style>\n.box{\n  background-color:aliceblue;\n}\n.title{\n  font-size: 24px;\n  margin-left: 115px;\n}\n.login {\n  width: 456px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  margin-top: -320px;\n  margin-left: 50%;\n  /* margin-top: 20px; */\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 12%;\n  width: 300px;\n}\n\n#inputbox1{\n  width: 364px;\n  height: 53px;\n  margin-top: 15px;\n  margin-bottom: 20px;\n  margin-left: 35px ;\n\n\n}\n#inputbox2{\n  width: 364px;\n  height: 53px;\n  margin-top: 0px;\n  margin-bottom: 20px;\n  margin-left: 35px ;\n}\n#Login{\n  width: 364px;\n  height: 53px;\n  background-color: rgb(80,130,241);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:55px;\n}\n\n#Register{\n  width: 364px;\n  height: 53px;\n  background-color: rgb(95,170,63);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:55px;\n}\n@media screen and (min-width: 900px) and (max-width: 1120px) {\n  .login {\n  width: 456px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  margin-top: -320px;\n  margin-left: 40%;\n  /* margin-top: 20px; */\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n}\n}\n @media screen and (min-width: 720px) and (max-width: 899px) {\n  .login {\n  width: 456px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  /* margin-top: 20px;  */\n  margin-left: 20%;\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n  opacity:0;\n}\n}\n\n @media screen and (min-width: 425px) and (max-width: 720px) {\n  .title{\n  font-size: 18px;\n  margin-left: 65px;\n}\n  .login {\n  width: 300px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n\n  margin-left: 20%;\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n  opacity:0;\n}\n\n#inputbox1{\n  width: 250px;\n  height: 53px;\n  margin-top: 15px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#inputbox2{\n  width: 250px;\n  height: 53px;\n  margin-top: 0px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#Login{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(80,130,241);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:20px;\n}\n\n#Register{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(95,170,63);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:20px;\n}\n}\n@media screen and (min-width: 0px) and (max-width: 425px) {\n  .title{\n  font-size: 18px;\n  margin-left: 65px;\n}\n  .login {\n  width: 300px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  /* margin-top: 20px;  */\n  margin-left: 5%;\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n  opacity:0;\n}\n\n#inputbox1{\n  width: 250px;\n  height: 53px;\n  margin-top: 15px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#inputbox2{\n  width: 250px;\n  height: 53px;\n  margin-top: 0px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#Login{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(80,130,241);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:20px;\n}\n\n#Register{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(95,170,63);\n  border:0px  solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:20px;\n}\n}\n\n</style>\n\n"]},"metadata":{},"sourceType":"module"}