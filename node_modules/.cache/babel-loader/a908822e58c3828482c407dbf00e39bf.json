{"ast":null,"code":"import HeadBar from '../components/HeadBar.vue';\nimport BottomBar from '../components/BottomBar.vue';\nimport request from '../utils/request';\nexport default {\n  name: 'App',\n  components: {\n    HeadBar,\n    BottomBar\n  },\n\n  data() {\n    return {\n      username: '',\n      email: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    // login () {     \n    //   const username = this.username\n    //   const email = this.email\n    //   const password = this.password\n    //   if(username.length == 0 || password.length == 0) {\n    //     alert('Please enter your account and password!')\n    //     return;\n    //   }\n    //   request.post(\"user/login\",{username:username,email:email,password:password}).then(res=>{\n    //     console.log(res);\n    //     if(res.success === true){\n    //       alert(res.msg);\n    //       this.$router.push({path:\"/\"});\n    //     }else{\n    //         alert(res.msg);\n    //       }\n    //   })\n    // this.$axios\n    //     .post(\"/user/login\",{\n    //       username: username,\n    //       password: password,\n    //     })\n    //     .then((resp) => {\n    //       console.log(resp);\n    //       let code = resp.data.code;\n    //       alert(code)\n    //     if(code === 200){\n    //       alert(\"successful!\");\n    //       this.$router.push({path:\"/\"});\n    //     }else{\n    //       alert(\"login failure!\");\n    //     }\n    //     });  \n    // },\n    regist() {\n      const username = this.username;\n      const password = this.password;\n      const email = this.email;\n\n      if (username.length == 0 || password.length == 0 || email.length == 0) {\n        this.$message({\n          message: 'Please enter your account number and password',\n          type: 'warning'\n        });\n        return;\n      }\n\n      var verify = /^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}/;\n\n      if (verify.test(this.email)) {\n        request.post(\"users/signup\", {\n          username: username,\n          email: email,\n          password: password\n        }).then(res => {\n          console.log(res);\n          this.$message({\n            message: 'Sign up successfully',\n            type: 'success'\n          });\n          this.$router.push('/login');\n        }).catch(error => {\n          this.$message.error(error);\n        }); //   if(res.success === true){\n        //     alert(res.msg);\n        //     alert(\"please log on\");\n        //   }else{\n        //       alert(res.msg);\n        //     }\n      } else {\n        this.$message({\n          message: 'Please enter the correct account number and password',\n          type: 'warning'\n        });\n        return;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiCA;AACA;AACA;AAGA;EACAA,WADA;EAEAC;IACAC,OADA;IAEAC;EAFA,CAFA;;EAOAC;IACA;MACAC,YADA;MAEAC,SAFA;MAGAC;IAHA;EAKA,CAbA;;EAcAC;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACA;MACA;MACA;;MACA;QACA;UACAC,wDADA;UAEAC;QAFA;QAIA;MACA;;MACA;;MACA;QACAC;UAAAP;UAAAC;UAAAC;QAAA;UACAM;UACA;YACAH,+BADA;YAEAC;UAFA;UAGA;QAEA,CAPA,EAOAG,KAPA,CAOAC;UACA;QAAA,CARA,EADA,CAUA;QACA;QACA;QACA;QACA;QACA;MACA,CAhBA,MAgBA;QACA;UACAL,+DADA;UAEAC;QAFA;QAIA;MACA;IACA;;EA1EA;AAdA","names":["name","components","HeadBar","BottomBar","data","username","email","password","methods","regist","message","type","request","console","catch","error"],"sourceRoot":"src/views","sources":["LogOnView.vue"],"sourcesContent":["<template lang=\"\">\n  <div class = \"box\">\n    <HeadBar></HeadBar>\n    <div>\n      <img  src=\"../assets/img/logo1.svg\"  alt=\"cannot  show\"  class=\"logo\">\n    </div>\n    <div class=\"login\" id=\"login\">\n      <h2 class = \"title\">Welcome to sign up</h2>\n      <div class=\"input-wrap\">\n        <!-- <label for=\"male\">Account number:</label> -->\n        <input id = \"inputbox1\" type=\"text\" v-model=\"username\" placeholder=\"Account number\"/>\n        \n      </div>\n      <div class=\"input-wrap\">\n        <!-- <label for=\"male\">Account number:</label> -->\n        <input id = \"inputbox2\" type=\"email\" v-model=\"email\" placeholder=\"Email\"/>\n        \n      </div>\n      <div class=\"input-wrap\">\n        <!-- <label for=\"male\">Password：</label> -->\n        <input id = \"inputbox2\" type=\"password\" v-model=\"password\" placeholder=\"Password\"/>\n      </div>\n      <div class=\"input-wrap\">\n        <!-- <button v-on:click=\"login\">登录账号</button>&nbsp;&nbsp; -->\n        <button id= \"Register\" @click=\"regist\">Sign up</button>\n      </div>\n    </div>\n  <div id=\"app\">\n    <BottomBar></BottomBar>\n  </div>\n  </div>\n</template>\n<script>\nimport HeadBar from '../components/HeadBar.vue'\nimport BottomBar from '../components/BottomBar.vue'\nimport request from '../utils/request'\n\n\nexport default {\n    name: 'App',\n  components: {\n    HeadBar,\n    BottomBar,\n  },\n\n  data () {\n    return {\n      username: '',\n      email:'',\n      password: ''\n    }\n  },\n  methods: {\n    // login () {     \n\n    //   const username = this.username\n    //   const email = this.email\n    //   const password = this.password\n    //   if(username.length == 0 || password.length == 0) {\n    //     alert('Please enter your account and password!')\n    //     return;\n    //   }\n\n    //   request.post(\"user/login\",{username:username,email:email,password:password}).then(res=>{\n    //     console.log(res);\n    //     if(res.success === true){\n    //       alert(res.msg);\n    //       this.$router.push({path:\"/\"});\n    //     }else{\n    //         alert(res.msg);\n    //       }\n    //   })\n\n\n      // this.$axios\n      //     .post(\"/user/login\",{\n      //       username: username,\n      //       password: password,\n      //     })\n      //     .then((resp) => {\n      //       console.log(resp);\n      //       let code = resp.data.code;\n      //       alert(code)\n      //     if(code === 200){\n      //       alert(\"successful!\");\n      //       this.$router.push({path:\"/\"});\n      //     }else{\n      //       alert(\"login failure!\");\n      //     }\n      //     });  \n    // },\n    regist(){\n      const username = this.username\n      const password = this.password\n      const email = this.email\n      if(username.length == 0 || password.length == 0 || email.length ==0) {\n        this.$message({\n        message: 'Please enter your account number and password',\n        type: 'warning'\n        });\n        return;\n      }\n      var verify = /^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}/;\n      if (verify.test(this.email)){\n      request.post(\"users/signup\",{username:username,email:email,password:password}).then(res=>{\n          console.log(res);\n          this.$message({\n          message:'Sign up successfully',\n          type:'success'});\n          this.$router.push('/login');\n          \n          }).catch(error => {\n           this.$message.error(error);})\n      //   if(res.success === true){\n      //     alert(res.msg);\n      //     alert(\"please log on\");\n      //   }else{\n      //       alert(res.msg);\n      //     }\n      }else{\n        this.$message({\n        message: 'Please enter the correct account number and password',\n        type: 'warning'\n        });\n        return;\n      }\n    }\n\n  }\n}\n</script>\n \n<style>\n.box{\n  background-color:aliceblue;\n}\n.title{\n  font-size: 24px;\n  margin-left: 115px;\n}\n.login {\n  width: 456px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  margin-top: -320px;\n  margin-left: 50%;\n  /* margin-top: 20px; */\n  \n}\n.logo{\n  margin-top: 150px;\n  margin-left: 12%;\n  width: 300px;\n}\n\n#inputbox1{\n  width: 364px;\n  height: 53px;\n  margin-top: 15px;\n  margin-bottom: 20px;\n  margin-left: 35px ;\n\n\n}\n#inputbox2{\n  width: 364px;\n  height: 53px;\n  margin-top: 0px;\n  margin-bottom: 20px;\n  margin-left: 35px ;\n}\n#Login{\n  width: 364px;\n  height: 53px;\n  background-color: rgb(80,130,241);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:55px;\n}\n\n#Register{\n  width: 364px;\n  height: 53px;\n  background-color: rgb(95,170,63);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:55px;\n  cursor:pointer;\n}\n@media screen and (min-width: 900px) and (max-width: 1120px) {\n  .login {\n  width: 456px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  margin-top: -320px;\n  margin-left: 40%;\n  /* margin-top: 20px; */\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n}\n}\n @media screen and (min-width: 720px) and (max-width: 899px) {\n  .login {\n  width: 456px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  /* margin-top: 20px;  */\n  margin-left: 20%;\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n  opacity:0;\n}\n}\n\n @media screen and (min-width: 425px) and (max-width: 720px) {\n  .title{\n  font-size: 18px;\n  margin-left: 65px;\n}\n  .login {\n  width: 300px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n\n  margin-left: 20%;\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n  opacity:0;\n}\n\n#inputbox1{\n  width: 250px;\n  height: 53px;\n  margin-top: 15px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#inputbox2{\n  width: 250px;\n  height: 53px;\n  margin-top: 0px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#Login{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(80,130,241);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:20px;\n}\n\n#Register{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(95,170,63);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:20px;\n  cursor:pointer;\n}\n}\n@media screen and (min-width: 0px) and (max-width: 425px) {\n  .title{\n  font-size: 18px;\n  margin-left: 65px;\n}\n  .login {\n  width: 300px;\n  height: 396px;\n  padding:10px;\n  border:0px solid;\n  border-radius:7px;\n  background-color: white;\n  box-shadow: 1px 1px 5px #c4c4c4;\n  /*margin: 20% auto;*/\n  /* margin-top: 20px;  */\n  margin-left: 5%;\n}\n.logo{\n  margin-top: 150px;\n  margin-left: 5%;\n  width: 300px;\n  opacity:0;\n}\n\n#inputbox1{\n  width: 250px;\n  height: 53px;\n  margin-top: 15px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#inputbox2{\n  width: 250px;\n  height: 53px;\n  margin-top: 0px;\n  margin-bottom: 20px;\n  margin-left: 20px ;\n}\n#Login{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(80,130,241);\n  border:0px solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 20px;\n  margin-left:20px;\n}\n\n#Register{\n  width: 250px;\n  height: 53px;\n  background-color: rgb(95,170,63);\n  border:0px  solid;\n  border-radius:5px;\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  margin-top: 15px;\n  margin-left:20px;\n  cursor:pointer;\n}\n}\n\n</style>\n\n"]},"metadata":{},"sourceType":"module"}