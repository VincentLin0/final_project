{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport LoginView from '../views/LoginView.vue';\nimport SearchView from '../views/SearchView.vue';\nimport ContentView from '../views/ContentView.vue';\nimport SearchResult from '../views/SearchResult.vue';\nimport LogOnView from '../views/LogOnView';\nimport UploadContentView from '../views/UploadContentView.vue';\nimport SeftTestView from '../views/UploadContentView.vue';\nVue.use(VueRouter); //https://www.jianshu.com/p/3643eed33246\n\nconst RouterPush = VueRouter.prototype.push;\n\nVueRouter.prototype.push = function push(to) {\n  return RouterPush.call(this, to).catch(err => err);\n};\n\nconst RouterReplace = VueRouter.prototype.replace;\n\nVueRouter.prototype.replace = function replace(to) {\n  return RouterReplace.call(this, to).catch(err => err);\n};\n\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView\n}, {\n  path: '/search',\n  name: 'search',\n  component: SearchView\n}, {\n  path: '/content/:id',\n  name: 'content',\n  component: ContentView\n}, {\n  path: '/result/:searchContent',\n  name: 'result',\n  component: SearchResult\n}, {\n  path: '/signup',\n  name: 'singnup',\n  component: LogOnView\n}, {\n  path: '/uploadContent',\n  name: 'UploadContent',\n  component: UploadContentView\n}, {\n  path: '/test',\n  name: 'SeftTest',\n  component: SeftTestView\n} // {\n//   path: '/login',\n//   name: 'login',\n//   // route level code-splitting\n//   // this generates a separate chunk (about.[hash].js) for this route\n//   // which is lazy-loaded when the route is visited.\n//   component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n// }\n];\nconst router = new VueRouter({\n  //mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/login' || to.path === '/signup' || to.path === '/') {\n    next();\n  } else {\n    let token = localStorage.getItem('Authorization');\n\n    if (token === null || token === '') {\n      next('/login');\n    } else {\n      next();\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","HomeView","LoginView","SearchView","ContentView","SearchResult","LogOnView","UploadContentView","SeftTestView","use","RouterPush","prototype","push","to","call","catch","err","RouterReplace","replace","routes","path","name","component","router","base","process","env","BASE_URL","beforeEach","from","next","token","localStorage","getItem"],"sources":["/Users/linduoying/Downloads/learningVue/veterinary-web/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport SearchView from '../views/SearchView.vue'\nimport ContentView from '../views/ContentView.vue'\nimport SearchResult from '../views/SearchResult.vue'\nimport LogOnView from '../views/LogOnView'\nimport UploadContentView from '../views/UploadContentView.vue'\nimport SeftTestView from '../views/UploadContentView.vue'\n\nVue.use(VueRouter)\n\n//https://www.jianshu.com/p/3643eed33246\nconst RouterPush = VueRouter.prototype.push\nVueRouter.prototype.push = function push (to) {\n  return RouterPush.call(this, to).catch(err => err)\n}\nconst RouterReplace = VueRouter.prototype.replace\nVueRouter.prototype.replace = function replace (to) {\n  return RouterReplace.call(this, to).catch(err => err)\n}\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView\n  },\n  {\n    path: '/search',\n    name: 'search',\n    component: SearchView\n  },\n  {\n    path: '/content/:id',\n    name: 'content',\n    component: ContentView\n  },\n  {\n    path: '/result/:searchContent',\n    name: 'result',\n    component: SearchResult\n  },\n  {\n    path: '/signup',\n    name: 'singnup',\n    component: LogOnView\n  },\n  {\n    path: '/uploadContent',\n    name: 'UploadContent',\n    component: UploadContentView\n  },\n\n  {\n    path: '/test',\n    name: 'SeftTest',\n    component: SeftTestView\n  }\n  // {\n  //   path: '/login',\n  //   name: 'login',\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  // }\n]\n\nconst router = new VueRouter({\n  //mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/login' || to.path === '/signup' || to.path === '/') {\n    next();\n  } else {\n    let token = localStorage.getItem('Authorization');\n \n    if (token === null || token === '') {\n      next('/login');\n    } else {\n      next();\n    }\n  }\n});\n \n\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,iBAAP,MAA8B,gCAA9B;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AAEAT,GAAG,CAACU,GAAJ,CAAQT,SAAR,E,CAEA;;AACA,MAAMU,UAAU,GAAGV,SAAS,CAACW,SAAV,CAAoBC,IAAvC;;AACAZ,SAAS,CAACW,SAAV,CAAoBC,IAApB,GAA2B,SAASA,IAAT,CAAeC,EAAf,EAAmB;EAC5C,OAAOH,UAAU,CAACI,IAAX,CAAgB,IAAhB,EAAsBD,EAAtB,EAA0BE,KAA1B,CAAgCC,GAAG,IAAIA,GAAvC,CAAP;AACD,CAFD;;AAGA,MAAMC,aAAa,GAAGjB,SAAS,CAACW,SAAV,CAAoBO,OAA1C;;AACAlB,SAAS,CAACW,SAAV,CAAoBO,OAApB,GAA8B,SAASA,OAAT,CAAkBL,EAAlB,EAAsB;EAClD,OAAOI,aAAa,CAACH,IAAd,CAAmB,IAAnB,EAAyBD,EAAzB,EAA6BE,KAA7B,CAAmCC,GAAG,IAAIA,GAA1C,CAAP;AACD,CAFD;;AAIA,MAAMG,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GADR;EAEEC,IAAI,EAAE,MAFR;EAGEC,SAAS,EAAErB;AAHb,CADa,EAMb;EACEmB,IAAI,EAAE,QADR;EAEEC,IAAI,EAAE,OAFR;EAGEC,SAAS,EAAEpB;AAHb,CANa,EAWb;EACEkB,IAAI,EAAE,SADR;EAEEC,IAAI,EAAE,QAFR;EAGEC,SAAS,EAAEnB;AAHb,CAXa,EAgBb;EACEiB,IAAI,EAAE,cADR;EAEEC,IAAI,EAAE,SAFR;EAGEC,SAAS,EAAElB;AAHb,CAhBa,EAqBb;EACEgB,IAAI,EAAE,wBADR;EAEEC,IAAI,EAAE,QAFR;EAGEC,SAAS,EAAEjB;AAHb,CArBa,EA0Bb;EACEe,IAAI,EAAE,SADR;EAEEC,IAAI,EAAE,SAFR;EAGEC,SAAS,EAAEhB;AAHb,CA1Ba,EA+Bb;EACEc,IAAI,EAAE,gBADR;EAEEC,IAAI,EAAE,eAFR;EAGEC,SAAS,EAAEf;AAHb,CA/Ba,EAqCb;EACEa,IAAI,EAAE,OADR;EAEEC,IAAI,EAAE,UAFR;EAGEC,SAAS,EAAEd;AAHb,CArCa,CA0Cb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDa,CAAf;AAoDA,MAAMe,MAAM,GAAG,IAAIvB,SAAJ,CAAc;EAC3B;EACAwB,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;EAG3BR;AAH2B,CAAd,CAAf;AAOAI,MAAM,CAACK,UAAP,CAAkB,CAACf,EAAD,EAAKgB,IAAL,EAAWC,IAAX,KAAoB;EACpC,IAAIjB,EAAE,CAACO,IAAH,KAAY,QAAZ,IAAwBP,EAAE,CAACO,IAAH,KAAY,SAApC,IAAiDP,EAAE,CAACO,IAAH,KAAY,GAAjE,EAAsE;IACpEU,IAAI;EACL,CAFD,MAEO;IACL,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAZ;;IAEA,IAAIF,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,EAAhC,EAAoC;MAClCD,IAAI,CAAC,QAAD,CAAJ;IACD,CAFD,MAEO;MACLA,IAAI;IACL;EACF;AACF,CAZD;AAgBA,eAAeP,MAAf"},"metadata":{},"sourceType":"module"}